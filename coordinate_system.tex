\documentclass{article}
\usepackage{tikz}

\begin{document}
	\begin{center}
		\begin{tikzpicture}
			% Draw dashed lines
			\foreach \i in {-3,-2.5,...,3}
			{
				\draw[dashed] (\i,-3) -- (\i,3);
			}
			\foreach \j in {-3,-2.5,...,3}
			{
				\draw[dashed] (-3,\j) -- (3,\j);
			}
			
			
			
			% Draw solid grid and nodes with circles in the middle of each side
			\draw[step=1cm] (-3,-3) grid (3,3);
			\foreach \i in {-2.5,...,2.5}
			{
				\foreach \j in {-2.5,...,2.5}
				{
					
					
					\begin{scope}[transform canvas={xshift=\i cm,yshift=\j cm}]
						\node[right,xshift=0.2cm,yshift=0.4cm] {};
						% Convert \j and \i to integers
						\pgfmathtruncatemacro{\intj}{\j}
						\pgfmathtruncatemacro{\inti}{\i}
						
						% Draw circles at the midpoints of each side
						\ifnum\intj=2
						\draw node[draw,circle,fill=gray] at (0,0.5) {};
						\else
						\draw node[draw,circle,fill=white] at (0,0.5) {};
						\fi
						
						\ifnum\inti=2
						\draw node[draw,circle,fill=gray] at (0.5,0) {};
						\else
						\draw node[draw,circle,fill=white] at (0.5,0) {};
						\fi
						
						\draw node[draw,circle,fill=white] at (0,-0.5) {};
						\draw node[draw,circle,fill=white] at (-0.5,0) {};
					\end{scope}
				}
			}
			
			\foreach \i in {-1,...,-1} %column
			{
				
				\draw[blue!50, line width=1.5mm] (\i,0.5) -- (\i,1.5);
				\node[draw, circle, fill=blue!50,label=center:\textbf{Z}] at (\i,0.5) {};
				\node[draw, circle, fill=blue!50,label=center:\textbf{Z}] at (\i,1.5) {};
				
			}
			\foreach \j in {1,...,1}
			{
				
				\draw[blue!50, line width=1.5mm] (-1.5, \j) -- (-0.5, \j);
				\draw node[draw,circle,fill=blue!50,label=center:\textbf{Z},label=\textbf{Av}] at (-1.5,\j) {};
				\draw node[draw,circle,fill=blue!50,label=center:\textbf{Z} ] at (-0.5,\j) {};
				
			}
			
			
			
	
			\foreach \i in {1.5,...,1.5}
			{
				
				\draw[red!70, line width=1.5mm] (\i,-1) -- (\i,0);
				\node[draw, circle, fill=red!70,label=center:\textbf{X},label=left:\textbf{Bp}] at (\i,0) {};
				\node[draw, circle,fill=red!70,label=center:\textbf{X}] at (\i,-1) {};
				
			}
			\foreach \j in {-0.5,...,-0.5}
			{
				
				\draw[red!70, line width=1.5mm] (2, \j) -- (1, \j);
				\draw node[draw,circle,fill=red!70,label=center:\textbf{X}] at (1,\j) {};
				\draw node[draw,circle,fill=red!70,label=center:\textbf{X} ] at (2,\j) {};
				
			}
			
			% Define vertices
			\coordinate (A) at (-3,-3);
			\coordinate (B) at (-1,1);
			
			% Draw vector
			\draw[->, line width=1.1pt] (A) -- (B) node[right] {$\vec{v}$};
			
			
			% Define vertices
			\coordinate (A) at (-3,-3);
			\coordinate (B) at (1.5,-0.5);
			
			% Draw vector
			\draw[->, line width=1.1pt] (A) -- (B) node[right] {$\vec{p}$};
			
			
			
			
			
			
			% Define vertices
			\coordinate (A) at (-3,-3);
			\coordinate (B) at (-3,-2);
			
			% Draw vector
			\draw[->, line width=1.1pt] (A) -- (B) node[midway, left] {$\vec{e2}$};
			
			
			% Define vertices
			\coordinate (A) at (-3,-3);
			\coordinate (B) at (-2,-3);
			
			% Draw vector
			\draw[->, line width=1.1pt] (A) -- (B)  node[midway, below] {$\vec{e1}$};
			
			
			
		\end{tikzpicture}
	\end{center}
	
\end{document}
